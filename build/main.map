{"version":3,"sources":["webpack:///webpack/bootstrap 1238808ab83dd3c226b5","webpack:///external \"express\"","webpack:///./server/tokenManager.js","webpack:///./nuxt.config.js","webpack:///./server/spell/index.js","webpack:///./~/babel-runtime/regenerator/index.js","webpack:///external \"body-parser\"","webpack:///external \"cookie-parser\"","webpack:///external \"express-session\"","webpack:///external \"nuxt\"","webpack:///./server/spell/users.js","webpack:///external \"axios\"","webpack:///external \"lru-cache\"","webpack:///external \"mockjs\"","webpack:///external \"node-schedule\"","webpack:///external \"regenerator-runtime\"","webpack:///external \"request\"","webpack:///./server/index.js"],"names":["rule","schedule","RecurrenceRule","hour","minute","second","token","invalidDate","init","axios","post","then","response","console","log","data","scheduleJob","nowTime","Date","getTime","getToken","module","exports","head","title","meta","charset","hid","name","content","link","rel","type","href","render","bundleRenderer","cache","require","max","maxAge","build","extend","config","ctx","dev","isClient","rules","push","enforce","test","loader","exclude","vendor","router","base","root","parser","env","browser","node","extends","loading","color","vender","babel","comments","plugins","src","ssr","css","Router","use","Random","Mock","get","req","res","next","request","error","body","statusCode","json","shopId","storeId","activityId","takeManager","timestamp","appId","query","err","categoryId","pageIndex","pageSize","buyerId","teamId","nickName","photo","session","sessionInfo","send","openId","url","timeId","setInterval","aa","image","length","clearInterval","JSON","stringify","mock","ctitle","endTime","password","state","method","Inquire","nuxt","app","process","exit","listen","host","start","express","HOST","port","PORT","bodyParser","cookieParser","secret","cookie","resave","saveUninitialized","baseUrl","indexOf","undefined","redirect","set"],"mappings":";;;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;AChEA,oC;;;;;;;;;;;ACAA;AACA;AACA,IAAIA,OAAO,IAAI,qDAAAC,CAASC,cAAb,EAAX;AACA;AACAF,KAAKG,IAAL,GAAY,CAAC,CAAD,EAAG,CAAH,EAAK,CAAL,EAAO,CAAP,EAAS,CAAT,EAAW,EAAX,EAAc,EAAd,EAAiB,EAAjB,EAAoB,EAApB,EAAuB,EAAvB,EAA0B,EAA1B,EAA6B,EAA7B,CAAZ;AACAH,KAAKI,MAAL,GAAc,CAAd;AACAJ,KAAKK,MAAL,GAAc,CAAd;AACA,IAAIC,QAAQ,EAAZ;AACA,IAAIC,cAAc,EAAlB;AACA;AACA,IAAIC,OAAO,SAAPA,IAAO,GAAU;AACnBC,EAAA,6CAAAA,CAAMC,IAAN,CAAW,mDAAX,EAA+D,EAAC,YAAW,kBAAZ,EAAgC,YAAW,kBAA3C,EAA/D,EACGC,IADH,CACQ,UAAUC,QAAV,EAAoB;AACxBC,YAAQC,GAAR,CAAY,UAAZ,EAAwBF,SAASG,IAAT,CAAcA,IAAtC;AACAT,YAAQM,SAASG,IAAT,CAAcA,IAAd,CAAmBT,KAA3B;AACAC,kBAAcK,SAASG,IAAT,CAAcA,IAAd,CAAmBR,WAAjC;AACD,GALH;;AAOA;AACAN,EAAA,qDAAAA,CAASe,WAAT,CAAqBhB,IAArB,EAA2B,YAAW;AACpC,QAAIiB,UAAW,IAAIC,IAAJ,EAAD,CAAaC,OAAb,EAAd;AACAN,YAAQC,GAAR,CAAY,IAAII,IAAJ,EAAZ;AACAL,YAAQC,GAAR,CAAY,OAAZ,EAAoBG,OAApB,EAA6BV,WAA7B;AACA,QAAIU,UAAUV,WAAd,EAA2B;AACzBE,MAAA,6CAAAA,CAAMC,IAAN,CAAW,mDAAX,EAA+D,EAAC,YAAW,kBAAZ,EAAgC,YAAW,kBAA3C,EAA/D,EACGC,IADH,CACQ,UAAUC,QAAV,EAAoB;AACxBC,gBAAQC,GAAR,CAAY,UAAZ,EAAwBF,SAASG,IAAT,CAAcA,IAAtC;AACAT,gBAAQM,SAASG,IAAT,CAAcA,IAAd,CAAmBT,KAA3B;AACAC,sBAAcK,SAASG,IAAT,CAAcA,IAAd,CAAmBR,WAAjC;AACD,OALH;AAMD,KAPD,MAOO;AACLM,cAAQC,GAAR,CAAY,gBAAZ;AACD;AACF,GAdD;AAeD,CAxBD;;AA0BA;AACA,IAAIM,WAAW,SAAXA,QAAW,GAAU;AACvB,SAAOd,KAAP;AACD,CAFD;;AAIA;AACA,4CAAe;AACbE,YADa;AAEbY;AAFa,CAAf,C;;;;;;AC1CAC,OAAOC,OAAP,GAAiB;AACf;;;AAGA;;;AAGAC,QAAM;AACJC,WAAO,QADH;AAEJC,UAAM,CACJ,EAAEC,SAAS,OAAX,EADI,EAEJ,EAAEC,KAAK,aAAP,EAAsBC,MAAM,UAA5B,EAAwCC,SAAS,yDAAjD,EAFI,CAFF;AAMJC,UAAM,CACJ,EAAEC,KAAK,MAAP,EAAeC,MAAM,cAArB,EAAqCC,MAAM,cAA3C,EADI;AANF,GAPS;AAiBfC,UAAQ;AACNC,oBAAgB;AACdC,aAAO,mBAAAC,CAAQ,EAAR,EAAqB;AAC1BC,aAAK,CADqB;AAE1BC,gBAAQ,OAAO;AAFW,OAArB;AADO;AADV,GAjBO;AAyBfH,SAAO;AACLE,SAAK,CADA;AAELC,YAAQ;AAFH,GAzBQ;AA6BfC,SAAO;AACLC,UADK,kBACGC,MADH,EACWC,GADX,EACgB;AACnB,UAAIA,IAAIC,GAAJ,IAAWD,IAAIE,QAAnB,EAA6B;AAC3BH,eAAOrB,MAAP,CAAcyB,KAAd,CAAoBC,IAApB,CAAyB;AACvBC,mBAAS,KADc;AAEvBC,gBAAM,aAFiB;AAGvBC,kBAAQ,eAHe;AAIvBC,mBAAS;AAJc,SAAzB;AAMD;AACF,KAVI;;AAWLC,YAAQ,CAAC,8BAAD;AAXH,GA7BQ;AA0CfC,UAAQ;AACNC,UAAM;AADA,GA1CO;AA6CfC,QAAM,IA7CS;AA8CfC,UAAQ,cA9CO;AA+CfC,OAAK;AACHC,aAAS,IADN;AAEHC,UAAM;AAFH,GA/CU;AAmDfC,WAAS,UAnDM;AAoDf;;;AAGAC,WAAS,EAAEC,OAAO,SAAT,EAvDM;AAwDf;;;AAGAC,UAAQ,CACN,OADM,EAEN,SAFM,EAGN,qBAHM,CA3DO;AAgEfC,SAAO;AACL,eAAW,CAAC,CAAC,WAAD,EAAc,CACxB;AACE,qBAAe,SADjB;AAEE,eAAS;AAFX,KADwB,CAAd,CAAD,CADN;AAOLC,cAAU;AAPL,GAhEQ;AAyEfC,WAAS,CACP,EAAEC,KAAK,mBAAP,EAA4BC,KAAK;AACjC;AADA,GADO,CAzEM;AA6EfC,OAAK,CACH,iBADG;AA7EU,CAAjB,C;;;;;;;;;;ACAA;;AAEA;;AAEA,IAAMhB,SAAS,sEAAAiB,EAAf;;AAEA;AACAjB,OAAOkB,GAAP,CAAW,uDAAX;;AAEA,4CAAelB,MAAf,C;;;;;;ACTA;;;;;;;ACAA,wC;;;;;;ACAA,0C;;;;;;ACAA,4C;;;;;;ACAA,iC;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;;AAEA,IAAImB,SAAS,8CAAAC,CAAKD,MAAlB;AACA;AACA;;AAEA,IAAInB,SAAS,sEAAAiB,EAAb;AACA;AACAjB,OAAOqB,GAAP,CAAW,SAAX,EAAsB,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACxCC,EAAA,+CAAAA,CAAQ,gCAAR,EAA0C,UAAUC,KAAV,EAAiBnE,QAAjB,EAA2BoE,IAA3B,EAAiC;AACzEnE,YAAQC,GAAR,CAAY,QAAZ,EAAsBiE,KAAtB,EADyE,CAC5C;AAC7BlE,YAAQC,GAAR,CAAY,aAAZ,EAA2BF,YAAYA,SAASqE,UAAhD,EAFyE,CAEb;AAC5D;AACAL,QAAIM,IAAJ,CAASF,IAAT;AACD,GALD;AAMD,CAPD;;AASA;AACA3B,OAAO3C,IAAP,CAAY,UAAZ,EAAwB,UAACiE,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC1C,MAAIM,SAASR,IAAIK,IAAJ,CAASG,MAAtB;AACA,MAAIC,UAAUT,IAAIK,IAAJ,CAASI,OAAvB;AACA,MAAIC,aAAaV,IAAIK,IAAJ,CAASK,UAA1B;AACA,MAAI/E,QAAQ,8DAAAgF,CAAYlE,QAAZ,EAAZ;AACA,MAAImE,YAAa,IAAIrE,IAAJ,EAAD,CAAaC,OAAb,EAAhB;AACA,MAAIqE,QAAQb,IAAIc,KAAJ,CAAUD,KAAtB;AACAV,EAAA,+CAAAA,CAAQpE,IAAR,CAAa,sEAAsEJ,KAAtE,GAA8E,aAA9E,GAA8FiF,SAA9F,GAA0G,SAA1G,GAAsHC,KAAnI,EAAyI,EAACN,MAAK,EAACC,QAAOA,MAAR,EAAgBC,SAAQA,OAAxB,EAAiCC,YAAWA,UAA5C,EAAN,EAAzI,EAAyM,UAAUK,GAAV,EAAe9E,QAAf,EAAyBoE,IAAzB,EAA+B;AACtO,QAAIU,GAAJ,EAAS;AACPd,UAAIM,IAAJ,CAASF,IAAT;AACD,KAFD,MAEO;AACLJ,UAAIM,IAAJ,CAASF,IAAT;AACD;AACF,GAND;AAOD,CAdD;;AAgBA;AACA3B,OAAO3C,IAAP,CAAY,WAAZ,EAAyB,UAACiE,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC3C;AACA,MAAIM,SAASR,IAAIK,IAAJ,CAASG,MAAtB;AACA,MAAIC,UAAUT,IAAIK,IAAJ,CAASI,OAAvB;AACA,MAAI9E,QAAQ,8DAAAgF,CAAYlE,QAAZ,EAAZ;AACA,MAAImE,YAAa,IAAIrE,IAAJ,EAAD,CAAaC,OAAb,EAAhB;AACA2D,EAAA,+CAAAA,CAAQpE,IAAR,CAAa,sEAAsEJ,KAAtE,GAA8E,aAA9E,GAA8FiF,SAA3G,EAAqH,EAACL,MAAK,EAACC,QAAOA,MAAR,EAAgBC,SAAQA,OAAxB,EAAN,EAArH,EAA8J,UAAUM,GAAV,EAAe9E,QAAf,EAAyBoE,IAAzB,EAA+B;AAC3L;AACAJ,QAAIM,IAAJ,CAASF,IAAT;AACD,GAHD;AAID,CAVD;;AAYA;AACA3B,OAAO3C,IAAP,CAAY,WAAZ,EAAyB,UAACiE,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC3C,MAAIM,SAASR,IAAIK,IAAJ,CAASG,MAAtB;AACA,MAAIC,UAAUT,IAAIK,IAAJ,CAASI,OAAvB;AACA,MAAIC,aAAaV,IAAIK,IAAJ,CAASK,UAA1B;AACA,MAAIM,aAAahB,IAAIK,IAAJ,CAASW,UAA1B;AACA,MAAIC,YAAYjB,IAAIK,IAAJ,CAASY,SAAzB;AACA,MAAIC,WAAWlB,IAAIK,IAAJ,CAASa,QAAxB;AACA,MAAIvF,QAAQ,8DAAAgF,CAAYlE,QAAZ,EAAZ;AACA,MAAImE,YAAa,IAAIrE,IAAJ,EAAD,CAAaC,OAAb,EAAhB;AACA2D,EAAA,+CAAAA,CAAQpE,IAAR,CAAa,mEAAmEJ,KAAnE,GAA2E,aAA3E,GAA2FiF,SAAxG,EACE,EAACL,MAAK,EAACC,QAAOA,MAAR,EAAgBC,SAAQA,OAAxB,EAAiCC,YAAWA,UAA5C,EAAwDM,YAAWA,UAAnE,EAA+EC,WAAUA,SAAzF,EAAoGC,UAASA,QAA7G,EAAN,EADF,EAEE,UAAUH,GAAV,EAAe9E,QAAf,EAAyBoE,IAAzB,EAA+B;AAC7B,QAAIU,GAAJ,EAAS;AACPd,UAAIM,IAAJ,CAASF,IAAT;AACD,KAFD,MAEO;AACL;AACAnE,cAAQC,GAAR,CAAY,sCAAZ,EAAoDkE,IAApD;AACAJ,UAAIM,IAAJ,CAASF,IAAT;AACD;AACF,GAVH;AAWD,CApBD;;AAsBA;AACA3B,OAAO3C,IAAP,CAAY,eAAZ,EAA6B,UAACiE,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC/C,MAAIM,SAASR,IAAIK,IAAJ,CAASG,MAAtB;AACA,MAAIC,UAAUT,IAAIK,IAAJ,CAASI,OAAvB;AACA,MAAIC,aAAaV,IAAIK,IAAJ,CAASK,UAA1B;AACA,MAAIS,UAAUnB,IAAIK,IAAJ,CAASc,OAAvB;AACA,MAAIC,SAASpB,IAAIK,IAAJ,CAASe,MAAtB;AACA,MAAIzF,QAAQ,8DAAAgF,CAAYlE,QAAZ,EAAZ;AACA,MAAImE,YAAa,IAAIrE,IAAJ,EAAD,CAAaC,OAAb,EAAhB;AACA2D,EAAA,+CAAAA,CAAQpE,IAAR,CAAa,iEAA+DJ,KAA/D,GAAqE,aAArE,GAAmFiF,SAAhG,EACE,EAACL,MAAM,EAACC,QAAQA,MAAT,EAAiBC,SAASA,OAA1B,EAAmCC,YAAYA,UAA/C,EAA2DS,SAASA,OAApE,EAA6EC,QAAQA,MAArF,EAAP,EADF,EAEE,UAAUL,GAAV,EAAe9E,QAAf,EAAyBoE,IAAzB,EAA+B;AAC7BJ,QAAIM,IAAJ,CAASF,IAAT;AACD,GAJH;AAKD,CAbD;;AAeA;AACA3B,OAAO3C,IAAP,CAAY,kBAAZ,EAAgC,UAACiE,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAClD,MAAIM,SAASR,IAAIK,IAAJ,CAASG,MAAtB;AACA,MAAIC,UAAUT,IAAIK,IAAJ,CAASI,OAAvB;AACA,MAAIC,aAAaV,IAAIK,IAAJ,CAASK,UAA1B;AACA,MAAIS,UAAUnB,IAAIK,IAAJ,CAASc,OAAvB;AACA,MAAIF,YAAYjB,IAAIK,IAAJ,CAASY,SAAzB;AACA,MAAIC,WAAWlB,IAAIK,IAAJ,CAASa,QAAxB;AACA,MAAIvF,QAAQ,8DAAAgF,CAAYlE,QAAZ,EAAZ;AACA,MAAImE,YAAa,IAAIrE,IAAJ,EAAD,CAAaC,OAAb,EAAhB;AACA2D,EAAA,+CAAAA,CAAQpE,IAAR,CAAa,iEAA+DJ,KAA/D,GAAqE,aAArE,GAAmFiF,SAAhG,EACE,EAACL,MAAK,EAACC,QAAOA,MAAR,EAAgBC,SAAQA,OAAxB,EAAiCC,YAAWA,UAA5C,EAAwDS,SAAQA,OAAhE,EAAyEF,WAAUA,SAAnF,EAA8FC,UAASA,QAAvG,EAAN,EADF,EAEE,UAAUH,GAAV,EAAe9E,QAAf,EAAyBoE,IAAzB,EAA+B;AAC7B,QAAIU,GAAJ,EAAS;AACPd,UAAIM,IAAJ,CAASF,IAAT;AACD,KAFD,MAEO;AACLJ,UAAIM,IAAJ,CAASF,IAAT;AACD;AACF,GARH;AASD,CAlBD;;AAoBA;AACA3B,OAAO3C,IAAP,CAAY,YAAZ,EAA0B,UAACiE,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC5C,MAAIQ,aAAaV,IAAIK,IAAJ,CAASK,UAA1B;AACA,MAAIS,UAAUnB,IAAIK,IAAJ,CAASc,OAAvB;AACA,MAAIE,WAAWrB,IAAIK,IAAJ,CAASgB,QAAxB;AACA,MAAIC,QAAQtB,IAAIK,IAAJ,CAASiB,KAArB;AACA,MAAId,SAASR,IAAIK,IAAJ,CAASG,MAAtB;AACA,MAAIC,UAAUT,IAAIK,IAAJ,CAASI,OAAvB;AACA,MAAI9E,QAAQ,8DAAAgF,CAAYlE,QAAZ,EAAZ;AACA,MAAImE,YAAa,IAAIrE,IAAJ,EAAD,CAAaC,OAAb,EAAhB;AACA2D,EAAA,+CAAAA,CAAQpE,IAAR,CAAa,qEAAmEJ,KAAnE,GAAyE,aAAzE,GAAuFiF,SAApG,EACE,EAACL,MAAK,EAACG,YAAWA,UAAZ,EAAuBS,SAAQA,OAA/B,EAAuCE,UAASA,QAAhD,EAAyDC,OAAMA,KAA/D,EAAqEd,QAAOA,MAA5E,EAAmFC,SAAQA,OAA3F,EAAN,EADF,EAEE,UAAUM,GAAV,EAAe9E,QAAf,EAAyBoE,IAAzB,EAA+B;AAC7B,QAAIU,GAAJ,EAAS;AACPd,UAAIM,IAAJ,CAASF,IAAT;AACD,KAFD,MAEO;AACLJ,UAAIM,IAAJ,CAASF,IAAT;AACD;AACF,GARH;AASD,CAlBD;;AAoBA3B,OAAO3C,IAAP,CAAY,SAAZ,EAAuB,UAACiE,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACzCF,MAAIuB,OAAJ,CAAYC,WAAZ,GAA0BxB,IAAIK,IAA9B;;AAEAJ,MAAIwB,IAAJ,CAAS,GAAT;AACD,CAJD;;AAMA/C,OAAOqB,GAAP,CAAW,SAAX,EAAsB,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACxCC,EAAA,+CAAAA,CAAQJ,GAAR,CAAY,iDAAZ,EAA8D,EAA9D,EAAiE,UAAUgB,GAAV,EAAe9E,QAAf,EAAyBoE,IAAzB,EAA+B;AAC9F;AACA;AACA;AACA;AACA;AACAJ,QAAIwB,IAAJ,CAAS,MAAT;AACD,GAPD;AAQD,CATD;;AAWA;AACA/C,OAAO3C,IAAP,CAAY,UAAZ,EAAwB,UAACiE,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC1C,MAAIkB,SAASpB,IAAIK,IAAJ,CAASe,MAAtB;AACA,MAAID,UAAUnB,IAAIK,IAAJ,CAASc,OAAvB;AACA,MAAIE,WAAWrB,IAAIK,IAAJ,CAASgB,QAAxB;AACA,MAAIC,QAAQtB,IAAIK,IAAJ,CAASiB,KAArB;AACA,MAAId,SAASR,IAAIK,IAAJ,CAASG,MAAtB;AACA,MAAIC,UAAUT,IAAIK,IAAJ,CAASI,OAAvB;AACA,MAAI9E,QAAQ,8DAAAgF,CAAYlE,QAAZ,EAAZ;AACA,MAAImE,YAAa,IAAIrE,IAAJ,EAAD,CAAaC,OAAb,EAAhB;AACA2D,EAAA,+CAAAA,CAAQpE,IAAR,CAAa,8DAA4DJ,KAA5D,GAAkE,aAAlE,GAAgFiF,SAA7F,EACE,EAACL,MAAK,EAACa,QAAOA,MAAR,EAAeD,SAAQA,OAAvB,EAA+BE,UAASA,QAAxC,EAAiDC,OAAMA,KAAvD,EAA6Dd,QAAOA,MAApE,EAA2EC,SAAQA,OAAnF,EAAN,EADF,EAEE,UAAUM,GAAV,EAAe9E,QAAf,EAAyBoE,IAAzB,EAA+B;AAC7B,QAAIU,GAAJ,EAAS;AACPd,UAAIwB,IAAJ,CAASpB,IAAT;AACD,KAFD,MAEO;AACLJ,UAAIwB,IAAJ,CAASpB,IAAT;AACD;AACF,GARH;AASD,CAlBD;;AAoBA;AACA3B,OAAO3C,IAAP,CAAY,cAAZ,EAA4B,UAACiE,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC9C,MAAIM,SAASR,IAAIK,IAAJ,CAASG,MAAtB;AACA,MAAIC,UAAUT,IAAIK,IAAJ,CAASI,OAAvB;AACA,MAAIiB,SAAS1B,IAAIK,IAAJ,CAASqB,MAAtB;AACAvB,EAAA,+CAAAA,CAAQpE,IAAR,CAAa,qDAAqD0E,OAArD,GAA+D,GAA/D,GAAqED,MAArE,GAA8E,GAA9E,GAAoFkB,MAAjG,EAAyG,UAAUX,GAAV,EAAe9E,QAAf,EAAyBoE,IAAzB,EAA+B;AACtIJ,QAAIwB,IAAJ,CAASpB,IAAT;AACD,GAFD;AAGD,CAPD;;AASA;AACA3B,OAAO3C,IAAP,CAAY,WAAZ,EAAyB,UAACiE,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC3CC,EAAA,+CAAAA,CAAQpE,IAAR,CAAa,mDAAb,EAAiE,EAACwE,MAAK,EAAC,YAAW,kBAAZ,EAAgC,YAAW,kBAA3C,EAAN,EAAjE,EACE,UAAUQ,GAAV,EAAe9E,QAAf,EAAyBoE,IAAzB,EAA+B;AAC7BJ,QAAIwB,IAAJ,CAASpB,IAAT;AACD,GAHH;AAID,CALD;;AAQA;AACA3B,OAAOqB,GAAP,CAAW,YAAX,EAAyB,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC3C;AACAhE,UAAQC,GAAR,CAAY,mBAAZ,EAAiC6D,IAAIuB,OAArC;AACA,MAAII,MAAM,EAAV;AACA,MAAIC,SAASC,YAAY,YAAY;AACnC,QAAIC,KAAKjC,OAAOkC,KAAP,CAAa,SAAb,EAAwBlC,OAAOV,KAAP,EAAxB,EAAwC,MAAxC,EAAgD,KAAhD,EAAuD,QAAvD,CAAT;AACAwC,QAAIvD,IAAJ,CAAS0D,EAAT;AACA,QAAIH,IAAIK,MAAJ,GAAa,EAAjB,EAAqB;AACnBC,oBAAcL,MAAd;AACA;AACAD,YAAMO,KAAKC,SAAL,CAAeR,GAAf,EAAoB,IAApB,EAA0B,CAA1B,CAAN;AACA,UAAIvF,OAAO,8CAAA0D,CAAKsC,IAAL,CAAU;AACnB,gBAAQ,CAAC;AACP,yBAAeT,GADR;AAEP,yBAAe;AACb,yBAAa9B,OAAOwC,MAAP,CAAc,CAAd,EAAiB,EAAjB,CADA;AAEb,yBAAa,GAFA,EAEK;AAClB,2BAAe,GAHF,EAGO;AACpB,oBAAQxC,OAAOwC,MAAP,CAAc,CAAd,EAAiB,EAAjB,CAJK;AAKb,0BAAc,GALD,CAKK;AALL,WAFR;AASP,uBAAa,KATN;AAUP,+BAAqB,CAAC;AACpB,6BAAiB,IADG;AAEpB,mCAAuB,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX;AAFH,WAAD,EAGlB;AACD,6BAAiB,IADhB;AAED,mCAAuB,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX;AAFtB,WAHkB,EAMlB;AACD,6BAAiB,IADhB;AAED,mCAAuB,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX;AAFtB,WANkB;AAVd,SAAD,CADW;AAsBnB,eAAO,OAtBY;AAuBnB,iBAAS;AAvBU,OAAV,CAAX;AAyBApC,UAAIM,IAAJ,CAASnE,IAAT;AACD;AACF,GAlCY,EAkCV,EAlCU,CAAb;AAoCD,CAxCD;;AA0CA;AACAsC,OAAOqB,GAAP,CAAW,UAAX,EAAuB,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACzC,MAAI9D,OAAO,8CAAA0D,CAAKsC,IAAL,CAAU;AACnB,YAAQ;AACN,yBAAmB,CACjB;AACE,wBAAgB,uBADlB;AAEE,yBAAiB;AAFnB,OADiB,EAId;AACD,wBAAgB,uBADf;AAED,yBAAiB;AAFhB,OAJc,EAOd;AACD,wBAAgB,uBADf;AAED,yBAAiB;AAFhB,OAPc,EAUd;AACD,wBAAgB,uBADf;AAED,yBAAiB;AAFhB,OAVc,CADb;AAgBN,oBAAc;AAhBR,KADW;AAmBnB,WAAO,UAnBY;AAoBnB,aAAS;AApBU,GAAV,CAAX;AAsBAnC,MAAIM,IAAJ,CAASnE,IAAT;AACD,CAxBD;;AA0BA;AACAsC,OAAOqB,GAAP,CAAW,eAAX,EAA4B,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;;AAE9ChE,UAAQC,GAAR,CAAY,UAAZ,EAAwB6D,IAAIuB,OAA5B;AACA,MAAInF,OAAO,8CAAA0D,CAAKsC,IAAL,CAAU;AACnB,gBAAY,CACV;AACE,oBAAc,UADhB,EAC4B;AAC1B,kBAAY,UAFd,EAE0B;AACxB,gBAAU,UAHZ,EAGwB;AACtB,sBAAgB,KAJlB,EAIyB;AACvB,kBAAYvC,OAAOkC,KAAP,CAAa,SAAb,EAAwBlC,OAAOV,KAAP,EAAxB,EAAwC,MAAxC,EAAgD,KAAhD,EAAuD,QAAvD,CALd,EAKgF;AAC9E,mBAAaU,OAAOwC,MAAP,CAAc,CAAd,EAAiB,EAAjB,CANf,CAMmC;AANnC,KADU,CADO;AAWnB,WAAO,IAXY;AAYnB,aAAS;AAZU,GAAV,CAAX;AAcApC,MAAIM,IAAJ,CAASnE,IAAT;AACD,CAlBD;;AAoBAsC,OAAO3C,IAAP,CAAY,UAAZ,EAAwB,UAACiE,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC1ChE,UAAQC,GAAR,CAAY,SAAZ,EAAuB6D,IAAIuB,OAA3B;AACA,MAAI5F,QAAQqE,IAAIc,KAAJ,CAAUnF,KAAtB;AACA,MAAIW,UAAU0D,IAAIc,KAAJ,CAAUxE,OAAxB;AACA,MAAIgG,UAAUtC,IAAIc,KAAJ,CAAUwB,OAAxB;AACA,MAAIlG,OAAO,8CAAA0D,CAAKsC,IAAL,CAAU;AACnB,YAAQ,CAAC;AACP,eAASvC,OAAOwC,MAAP,CAAc,CAAd,EAAiB,EAAjB;AADF,KAAD,EAEL;AACD,eAASxC,OAAOwC,MAAP,CAAc,CAAd,EAAiB,EAAjB;AADR,KAFK,EAIL;AACD,eAASxC,OAAOwC,MAAP,CAAc,CAAd,EAAiB,EAAjB;AADR,KAJK,EAML;AACD,eAASxC,OAAOwC,MAAP,CAAc,CAAd,EAAiB,EAAjB;AADR,KANK;AADW,GAAV,CAAX;AAWApC,MAAIM,IAAJ,CAASnE,IAAT;AACD,CAjBD;;AAmBAsC,OAAO3C,IAAP,CAAY,WAAZ,EAAyB,UAACiE,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC3CF,MAAIuB,OAAJ,CAAYtE,IAAZ,GAAmB+C,IAAIK,IAAJ,CAASpD,IAA5B;AACA+C,MAAIuB,OAAJ,CAAYgB,QAAZ,GAAuBvC,IAAIK,IAAJ,CAASkC,QAAhC;AACArG,UAAQC,GAAR,CAAY,SAAZ,EAAuB6D,IAAIuB,OAA3B;AACA;AACAtB,MAAIwB,IAAJ,CAAS,GAAT;AACD,CAND;;AASA;AACA/C,OAAO3C,IAAP,CAAY,WAAZ,EAAyB,UAACiE,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC3C,MAAI9D,OAAK,EAACoG,OAAOxC,IAAIK,IAAJ,CAASmC,KAAjB,EAAuBhC,QAAOR,IAAIK,IAAJ,CAASG,MAAvC,EAA8CC,SAAQT,IAAIK,IAAJ,CAASI,OAA/D,EAAuEU,SAAQnB,IAAIK,IAAJ,CAASc,OAAxF,EAAgGF,WAAUjB,IAAIK,IAAJ,CAASY,SAAnH,EAA6HC,UAASlB,IAAIK,IAAJ,CAASa,QAA/I,EAAT;AACA,MAAIvF,QAAQ,8DAAAgF,CAAYlE,QAAZ,EAAZ;AACA,MAAImE,YAAa,IAAIrE,IAAJ,EAAD,CAAaC,OAAb,EAAhB;AACA2D,EAAA,+CAAAA,CACE;AACEwB,SAAI,iEAA+DhG,KAA/D,GAAqE,aAArE,GAAmFiF,SADzF;AAEE6B,YAAQ,MAFV;AAGElC,UAAKnE;AAHP,GADF,EAME,UAAUgE,KAAV,EAAiBnE,QAAjB,EAA2BoE,IAA3B,EAAiC;AAC/B,QAAID,KAAJ,EAAW;AACT,aAAOlE,QAAQkE,KAAR,CAAcA,KAAd,CAAP;AACD,KAFD,MAEM;AACJH,UAAIwB,IAAJ,CAASpB,IAAT;AACD;AACF,GAZH;AAcD,CAlBD;;AAoBA;AACA3B,OAAO3C,IAAP,CAAY,YAAZ,EAA0B,UAACiE,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC5C,MAAIsC,QAAQxC,IAAIK,IAAJ,CAASmC,KAArB;AACA,MAAIhC,SAASR,IAAIK,IAAJ,CAASG,MAAtB;AACA,MAAIC,UAAUT,IAAIK,IAAJ,CAASI,OAAvB;AACA,MAAIU,UAAUnB,IAAIK,IAAJ,CAASc,OAAvB;AACA,MAAIF,YAAYjB,IAAIK,IAAJ,CAASY,SAAzB;AACA,MAAIC,WAAWlB,IAAIK,IAAJ,CAASa,QAAxB;AACA,MAAIvF,QAAQ,8DAAAgF,CAAYlE,QAAZ,EAAZ;AACA,MAAImE,YAAa,IAAIrE,IAAJ,EAAD,CAAaC,OAAb,EAAhB;AACA2D,EAAA,+CAAAA,CACE;AACEwB,SAAI,+DAA6DhG,KAA7D,GAAmE,aAAnE,GAAiFiF,SADvF;AAEE6B,YAAQ,MAFV;AAGElC,UAAK,EAACiC,OAAMA,KAAP,EAAchC,QAAOA,MAArB,EAA6BC,SAAQA,OAArC,EAA8CU,SAAQA,OAAtD,EAA+DF,WAAUA,SAAzE,EAAoFC,UAASA,QAA7F;AAHP,GADF,EAME,UAAUd,KAAV,EAAiBnE,QAAjB,EAA2BoE,IAA3B,EAAiC;AAC/B,QAAID,KAAJ,EAAW;AACT,aAAOlE,QAAQkE,KAAR,CAAcA,KAAd,CAAP;AACD,KAFD,MAEM;AACJH,UAAIwB,IAAJ,CAASpB,IAAT;AACD;AACF,GAZH;AAcD,CAvBD;;AA0BA;AACA3B,OAAO3C,IAAP,CAAY,kBAAZ,EAAgC,UAACiE,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAClD;AACA,MAAIM,SAASR,IAAIK,IAAJ,CAASG,MAAtB;AACA,MAAIC,UAAUT,IAAIK,IAAJ,CAASI,OAAvB;AACA;AACAN,EAAA,+CAAAA,CAAQpE,IAAR,CAAa,6DAAb,EAA2E,EAACwE,MAAK,EAACC,QAAQA,MAAT,EAAgBC,SAASA,OAAzB,EAAN,EAA3E,EAAqH,UAAUL,KAAV,EAAiBnE,QAAjB,EAA2BoE,IAA3B,EAAiC;AACpJ,QAAID,KAAJ,EAAW;AACTH,UAAIwB,IAAJ,CAAS,GAAT;AACD,KAFD,MAEO;AACLxB,UAAIwB,IAAJ,CAASpB,IAAT;AACD;AACF,GAND;AAOD,CAZD;;AAcA;AACA3B,OAAO3C,IAAP,CAAY,SAAZ,EAAuB,UAACiE,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACzCD,MAAIwB,IAAJ,CAAS,KAAT;AACD,CAFD;;AAIA/C,OAAOqB,GAAP,CAAW,WAAX,EAAwB,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC1C,MAAIM,SAASR,IAAIc,KAAJ,CAAUN,MAAvB;AACA,MAAIC,UAAUT,IAAIc,KAAJ,CAAUL,OAAxB;AACAN,EAAA,+CAAAA,CAAQpE,IAAR,CAAa,mDAAb,EAAiE,EAACwE,MAAK,EAACC,QAAQA,MAAT,EAAgBC,SAASA,OAAzB,EAAN,EAAjE,EAA2G,UAAUM,GAAV,EAAe9E,QAAf,EAAyBoE,IAAzB,EAA+B;AACxIJ,QAAIwB,IAAJ,CAASpB,IAAT;AACD,GAFD;AAGD,CAND;;AAQA;AACA3B,OAAO3C,IAAP,CAAY,cAAZ,EAA4B,UAACiE,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC9C;AACA,MAAIwC,UAAU1C,IAAIK,IAAlB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAJ,MAAIwB,IAAJ,CAASiB,OAAT;AACD,CAZD;;AAcA;AACAhE,OAAO3C,IAAP,CAAY,aAAZ,EAA2B,UAACiE,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC7C;AACA,MAAIwC,UAAU1C,IAAIK,IAAlB;AACA;AACAF,EAAA,+CAAAA,CAAQpE,IAAR,CAAa,oDAAb,EAAkE,EAACwE,MAAK,EAACnE,MAAMsG,OAAP,EAAN,EAAlE,EAA0F,UAAU3B,GAAV,EAAe9E,QAAf,EAAyBoE,IAAzB,EAA+B;AACvH,QAAIU,GAAJ,EAAS;AACPd,UAAIwB,IAAJ,CAASV,GAAT;AACD,KAFD,MAEO;AACLd,UAAIwB,IAAJ,CAASpB,IAAT;AACD;AACF,GAND;AAOD,CAXD;;AAaA,4CAAe3B,MAAf,C;;;;;;AC7ZA,kC;;;;;;ACAA,sC;;;;;;ACAA,mC;;;;;;ACAA,0C;;;;;;ACAA,gD;;;;;;ACAA,oC;;;;;;;;;;;;;;;;;;;;;;;;ACgDA;AACA;;iJACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACE;AACIX,kBAFN,GAEe,mBAAAL,CAAQ,CAAR,CAFf;;AAGEK,mBAAOE,GAAP,GAAa,EAAE,kBAAyB,YAA3B,CAAb;AACA;AAJF;AAAA,mBAKqB,IAAI,4CAAJ,CAASF,MAAT,CALrB;;AAAA;AAKQ4E,gBALR;;AAME;AACAC,gBAAIhD,GAAJ,CAAQ+C,KAAKpF,MAAb;AACA;;AARF,iBASMQ,OAAOE,GATb;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,mBAWY0E,KAAK9E,KAAL,EAXZ;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAaM3B,oBAAQkE,KAAR,cAbN,CAa2B;AACrByC,oBAAQC,IAAR,CAAa,CAAb;;AAdN;AAiBE;AACAF,gBAAIG,MAAJ,CAAW,IAAX,EAAiBC,IAAjB;AACA9G,oBAAQC,GAAR,CAAY,wCAAZ,EAnBF,CAmBwD;;AAnBxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;kBAAe8G,K;;;;;;;AAlDf;AACA;AACA;AACA;AACA;;AAEA;;AAEA,IAAML,MAAM,+CAAAM,EAAZ;AACA,IAAMF,OAAOH,QAAQ/D,GAAR,CAAYqE,IAAzB;AACA,IAAMC,OAAOP,QAAQ/D,GAAR,CAAYuE,IAAZ,IAAoB,IAAjC;;AAEA;AACAT,IAAIhD,GAAJ,CAAQ,mDAAA0D,CAAW/C,IAAX,EAAR;;AAEAqC,IAAIhD,GAAJ,CAAQ,qDAAA2D,EAAR;;AAEAX,IAAIhD,GAAJ,CAAQ,uDAAA2B,CAAQ;AACdiC,UAAQ,OADM;AAEdC,UAAQ,EAAC7F,QAAQ,IAAE,EAAF,GAAK,EAAL,GAAQ,IAAjB,EAFM;AAGd8F,UAAQ,IAHM;AAIdC,qBAAmB;AAJL,CAAR,CAAR;;AAOAf,IAAIhD,GAAJ,CAAQ,UAAUI,GAAV,EAAeC,GAAf,EAAoBC,IAApB,EAA0B;AAChC,MAAIyB,MAAM3B,IAAI2B,GAAd;AACA,MAAIiC,UAAU,6BAAd;AACA;AACA;AACA,MAAIjC,IAAIkC,OAAJ,CAAY,wBAAZ,KAAyC,CAAzC,IAA8ClC,IAAIkC,OAAJ,CAAY,kBAAZ,KAAmC,CAAjF,IAAsFlC,IAAIkC,OAAJ,CAAY,iBAAZ,KAAkC,CAAxH,IAA6HlC,IAAIkC,OAAJ,CAAY,gBAAZ,KAAiC,CAA9J,IAAmKlC,IAAIkC,OAAJ,CAAY,iBAAZ,KAAkC,CAArM,IAA0MlC,IAAIkC,OAAJ,CAAY,iBAAZ,KAAkC,CAA5O,IAAiPlC,IAAIkC,OAAJ,CAAY,oBAAZ,KAAqC,CAAtR,IAA2RlC,IAAIkC,OAAJ,CAAY,eAAZ,KAAgC,CAA3T,IAAgUlC,IAAIkC,OAAJ,CAAY,eAAZ,KAAgC,CAAhW,IAAqWlC,IAAIkC,OAAJ,CAAY,eAAZ,KAAgC,CAArY,IAA0YlC,IAAIK,MAAJ,IAAc,CAA5Z,EAA+Z;AAC7Z9B;AACD,GAFD,MAEO;AACL;AACA,QAAIsB,cAAcxB,IAAIuB,OAAJ,CAAYC,WAA9B;AACA,QAAIA,gBAAgB,EAAhB,IAAsBA,gBAAgBsC,SAAtC,IAAmDtC,gBAAgB,WAAvE,EAAoF;AAClFtB;AACD,KAFD,MAEO;AACL;AACA;AACA,aAAOD,IAAI8D,QAAJ,CAAcH,UAAS,yBAAT,GAAqCA,OAArC,GAA+CjC,GAA7D,CAAP;AACD;AACF;AACF,CAlBD;;AAoBAiB,IAAIoB,GAAJ,CAAQ,MAAR,EAAgBZ,IAAhB;;AAEA;AACAR,IAAIhD,GAAJ,CAAQ,QAAR,EAAkB,uDAAlB;;AAyBA;AACA,8DAAAe,CAAY9E,IAAZ;;AAEAoH,Q","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 16);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 1238808ab83dd3c226b5","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 0\n// module chunks = 0","import schedule from 'node-schedule'\r\nimport axios from 'axios'\r\nlet rule = new schedule.RecurrenceRule()\r\n// rule.hour(时)  rule.minute(分)  rule.second(秒)\r\nrule.hour = [1,3,5,7,9,11,13,15,17,19,21,23]\r\nrule.minute = 0\r\nrule.second = 0\r\nlet token = \"\"\r\nlet invalidDate = \"\"\r\n//初始化token invalidDate\r\nlet init = function(){\r\n  axios.post('http://emcs.quanyou.com.cn/spellapi/auth/getToken',{\"userName\":\"ApiActivity_2018\", \"password\":\"qy_api_#365!2018\"})\r\n    .then(function (response) {\r\n      console.log('查询token:', response.data.data)\r\n      token = response.data.data.token\r\n      invalidDate = response.data.data.invalidDate\r\n    })\r\n\r\n  // 定时器查询token是否失效\r\n  schedule.scheduleJob(rule, function() {\r\n    let nowTime = (new Date()).getTime()\r\n    console.log(new Date())\r\n    console.log('时间对比：',nowTime, invalidDate)\r\n    if (nowTime > invalidDate) {\r\n      axios.post('http://emcs.quanyou.com.cn/spellapi/auth/getToken',{\"userName\":\"ApiActivity_2018\", \"password\":\"qy_api_#365!2018\"})\r\n        .then(function (response) {\r\n          console.log('查询token:', response.data.data)\r\n          token = response.data.data.token\r\n          invalidDate = response.data.data.invalidDate\r\n        })\r\n    } else {\r\n      console.log('token暂未失效，继续使用')\r\n    }\r\n  })\r\n}\r\n\r\n// 返回当前token\r\nlet getToken = function(){\r\n  return token\r\n}\r\n\r\n// 导出方法\r\nexport default {\r\n  init,\r\n  getToken\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./server/tokenManager.js","module.exports = {\n  /*\n  ** Router config\n  */\n  /*\n  ** Headers of the page\n  */\n  head: {\n    title: 'mynuxt',\n    meta: [\n      { charset: 'utf-8' },\n      { hid: 'description', name: 'viewport', content: 'width=750,user-scalable=no,target-densitydpi=device-dpi' }\n    ],\n    link: [\n      { rel: 'icon', type: 'image/x-icon', href: '/favicon.ico' }\n    ]\n  },\n  render: {\n    bundleRenderer: {\n      cache: require('lru-cache')({\n        max: 1,\n        maxAge: 1000 * 6\n      })\n    }\n  },\n  cache: {\n    max: 1,\n    maxAge: 6000\n  },\n  build: {\n    extend (config, ctx) {\n      if (ctx.dev && ctx.isClient) {\n        config.module.rules.push({\n          enforce: 'pre',\n          test: /\\.(js|vue)$/,\n          loader: 'eslint-loader',\n          exclude: /()/\n        })\n      }\n    },\n    vendor: ['./assets/js/jweixin-1.2.0.js']\n  },\n  router: {\n    base: '/spell/'\n  },\n  root: true,\n  parser: 'babel-eslint',\n  env: {\n    browser: true,\n    node: true\n  },\n  extends: 'standard',\n  /*\n  ** Customize the progress bar color\n  */\n  loading: { color: '#3B8070' },\n  /*\n  ** Build configuration\n  */\n  vender: [\n    'axios',\n    'mint-ui',\n    './assets/js/base.js'\n  ],\n  babel: {\n    'plugins': [['component', [\n      {\n        'libraryName': 'mint-ui',\n        'style': true\n      }\n    ]]],\n    comments: true\n  },\n  plugins: [\n    { src: './plugins/mint-ui', ssr: true }\n    // { src: '~/plugins/axios', ssr: false}\n  ],\n  css: [\n    'assets/main.css'\n  ]\n}\n\n\n\n// WEBPACK FOOTER //\n// ./nuxt.config.js","import { Router } from 'express'\r\n\r\nimport users from './users'\r\n\r\nconst router = Router()\r\n\r\n// Add USERS Routes\r\nrouter.use(users)\r\n\r\nexport default router\r\n\n\n\n// WEBPACK FOOTER //\n// ./server/spell/index.js","module.exports = require(\"regenerator-runtime\");\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/regenerator/index.js\n// module id = 4\n// module chunks = 0","module.exports = require(\"body-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"body-parser\"\n// module id = 5\n// module chunks = 0","module.exports = require(\"cookie-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cookie-parser\"\n// module id = 6\n// module chunks = 0","module.exports = require(\"express-session\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express-session\"\n// module id = 7\n// module chunks = 0","module.exports = require(\"nuxt\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"nuxt\"\n// module id = 8\n// module chunks = 0","import { Router } from 'express'\nimport request from 'request'\nimport takeManager from '../tokenManager'\n// import nuxtSchema from '../../db/nuxtserrver'\nimport Mock from 'mockjs'\n\nlet Random = Mock.Random\n// let nuxtlist = nuxtSchema.nuxtlist\n// let tslist = nuxtSchema.tslist\n\nlet router = Router()\n// 接口转发测试\nrouter.get('/getmsg', (req, res, next) => {\n  request('http://10.10.1.191:3666/getall', function (error, response, body) {\n    console.log('error:', error) // 返回错误信息\n    console.log('statusCode:', response && response.statusCode) // 返回请求的状态码\n    // console.log('body:', body)  返回回来的数据\n    res.json(body)\n  })\n})\n\n// 获得头部信息\nrouter.post('/gethead', (req, res, next) => {\n  let shopId = req.body.shopId\n  let storeId = req.body.storeId\n  let activityId = req.body.activityId\n  let token = takeManager.getToken()\n  let timestamp = (new Date()).getTime()\n  let appId = req.query.appId\n  request.post('http://emcs.quanyou.com.cn/spellapi/spell/getSpellHomeInfo?token=' + token + '&timestamp=' + timestamp + '&appId=' + appId,{json:{shopId:shopId, storeId:storeId, activityId:activityId}}, function (err, response, body) {\n    if (err) {\n      res.json(body)\n    } else {\n      res.json(body)\n    }\n  })\n})\n\n// 获得分类\nrouter.post('/gettitle', (req, res, next) => {\n  // 接收到数据后 请求活动首页接口\n  let shopId = req.body.shopId\n  let storeId = req.body.storeId\n  let token = takeManager.getToken()\n  let timestamp = (new Date()).getTime()\n  request.post('http://emcs.quanyou.com.cn/spellapi/spell/getSpellCategory?token=' + token + '&timestamp=' + timestamp,{json:{shopId:shopId, storeId:storeId}}, function (err, response, body) {\n    // console.log('我在打印body信息tttttttttttttttttttttttt:', body)\n    res.json(body)\n  })\n})\n\n// 获得商品\nrouter.post('/getclass', (req, res, next) => {\n  let shopId = req.body.shopId\n  let storeId = req.body.storeId\n  let activityId = req.body.activityId\n  let categoryId = req.body.categoryId\n  let pageIndex = req.body.pageIndex\n  let pageSize = req.body.pageSize\n  let token = takeManager.getToken()\n  let timestamp = (new Date()).getTime()\n  request.post('http://emcs.quanyou.com.cn/spellapi/spell/getSpellGoods?token=' + token + '&timestamp=' + timestamp,\n    {json:{shopId:shopId, storeId:storeId, activityId:activityId, categoryId:categoryId, pageIndex:pageIndex, pageSize:pageSize}},\n    function (err, response, body) {\n      if (err) {\n        res.json(body)\n      } else {\n        // console.log('class:', body)\n        console.log('我在打印body信息wwwwwwwwwwwwwwwwwwwwwwwww:', body)\n        res.json(body)\n      }\n    })\n})\n\n// 我的团信息获取\nrouter.post('/getGroupInfo', (req, res, next) => {\n  let shopId = req.body.shopId\n  let storeId = req.body.storeId\n  let activityId = req.body.activityId\n  let buyerId = req.body.buyerId\n  let teamId = req.body.teamId\n  let token = takeManager.getToken()\n  let timestamp = (new Date()).getTime()\n  request.post('http://emcs.quanyou.com.cn/spellapi/spell/getTeamInfo?token='+token+'&timestamp='+timestamp,\n    {json: {shopId: shopId, storeId: storeId, activityId: activityId, buyerId: buyerId, teamId: teamId}},\n    function (err, response, body) {\n      res.json(body)\n    })\n})\n\n// 获得已开团列表（除自己）\nrouter.post('/getHasBeenGroup', (req, res, next) => {\n  let shopId = req.body.shopId\n  let storeId = req.body.storeId\n  let activityId = req.body.activityId\n  let buyerId = req.body.buyerId\n  let pageIndex = req.body.pageIndex\n  let pageSize = req.body.pageSize\n  let token = takeManager.getToken()\n  let timestamp = (new Date()).getTime()\n  request.post('http://emcs.quanyou.com.cn/spellapi/spell/getTeamList?token='+token+'&timestamp='+timestamp,\n    {json:{shopId:shopId, storeId:storeId, activityId:activityId, buyerId:buyerId, pageIndex:pageIndex, pageSize:pageSize}},\n    function (err, response, body) {\n      if (err) {\n        res.json(body)\n      } else {\n        res.json(body)\n      }\n    })\n})\n\n// 去开团\nrouter.post('/openGroup', (req, res, next) => {\n  let activityId = req.body.activityId\n  let buyerId = req.body.buyerId\n  let nickName = req.body.nickName\n  let photo = req.body.photo\n  let shopId = req.body.shopId\n  let storeId = req.body.storeId\n  let token = takeManager.getToken()\n  let timestamp = (new Date()).getTime()\n  request.post('http://emcs.quanyou.com.cn/spellapi/spell/createSpellTeam?token='+token+'&timestamp='+timestamp,\n    {json:{activityId:activityId,buyerId:buyerId,nickName:nickName,photo:photo,shopId:shopId,storeId:storeId}},\n    function (err, response, body) {\n      if (err) {\n        res.json(body)\n      } else {\n        res.json(body)\n      }\n    })\n})\n\nrouter.post('/toAuth', (req, res, next) => {\n  req.session.sessionInfo = req.body\n\n  res.send(\"1\")\n})\n\nrouter.get('/testss', (req, res, next) => {\n  request.get('http://192.168.79.8:9090/spellapi/spell/getTest',{},function (err, response, body) {\n    // 对象中包含特殊符号的取值办法response.headers['set-cookie']\n    // response.headers['cookie'] = response.headers['set-cookie']\n    // req.headers['cookie'] = response.headers['set-cookie']\n    // response.headers['set-cookie'] = response.headers['set-cookie']\n    // console.log(response.headers['set-cookie'][0])\n    res.send(\"2222\")\n  })\n})\n\n//去参团\nrouter.post('/goGroup', (req, res, next) => {\n  let teamId = req.body.teamId\n  let buyerId = req.body.buyerId\n  let nickName = req.body.nickName\n  let photo = req.body.photo\n  let shopId = req.body.shopId\n  let storeId = req.body.storeId\n  let token = takeManager.getToken()\n  let timestamp = (new Date()).getTime()\n  request.post('http://emcs.quanyou.com.cn/spellapi/spell/joinTeam?token='+token+'&timestamp='+timestamp,\n    {json:{teamId:teamId,buyerId:buyerId,nickName:nickName,photo:photo,shopId:shopId,storeId:storeId}},\n    function (err, response, body) {\n      if (err) {\n        res.send(body)\n      } else {\n        res.send(body)\n      }\n    })\n})\n\n// 获取用户信息\nrouter.post('/getUserInfo', (req, res, next) => {\n  let shopId = req.body.shopId\n  let storeId = req.body.storeId\n  let openId = req.body.openId\n  request.post('https://emcs.quanyou.com.cn/emallwap/buyer/auth/' + storeId + '/' + shopId + '/' + openId, function (err, response, body) {\n    res.send(body)\n  })\n})\n\n// 获得用户token  没用\nrouter.post('/getToken', (req, res, next) => {\n  request.post('http://emcs.quanyou.com.cn/spellapi/auth/getToken',{json:{\"userName\":\"ApiActivity_2018\", \"password\":\"qy_api_#365!2018\"}},\n    function (err, response, body) {\n      res.send(body)\n    })\n})\n\n\n// 商品详情页\nrouter.get('/getDetail', (req, res, next) => {\n  // req.session.name = req.qeury.name\n  console.log('req.session.name:', req.session)\n  let url = []\n  let timeId = setInterval(function () {\n    let aa = Random.image('750x750', Random.color(), '#FFF', 'png', 'heheda')\n    url.push(aa)\n    if (url.length > 10) {\n      clearInterval(timeId)\n      // 第一个参数是数据  第二个不知道  第三个代表缩进多少\n      url = JSON.stringify(url, null, 1)\n      let data = Mock.mock({\n        'date': [{\n          'contentsPic': url,\n          'goodsDetail': {\n            'goodsName': Random.ctitle(3, 30),\n            'headPrice': 100, // 团长价\n            'marketPrice': 300, // 市场价\n            'pics': Random.ctitle(3, 10),\n            'spellPrice': 200 // 拼团价\n          },\n          'isShowBuy': false,\n          'showAttributeList': [{\n            'attributeName': '颜色',\n            'attributeOptionList': ['一', '二', '三']\n          }, {\n            'attributeName': '抽屉',\n            'attributeOptionList': ['一', '二', '三']\n          }, {\n            'attributeName': '品牌',\n            'attributeOptionList': ['一', '二', '三']\n          }]\n        }],\n        'msg': '请求成功！',\n        'state': 1\n      })\n      res.json(data)\n    }\n  }, 50)\n\n})\n\n// 运费规则\nrouter.get('/getRule', (req, res, next) => {\n  let data = Mock.mock({\n    'date': {\n      'deliveryFreight': [\n        {\n          'deliveryArea': '四川省-成都市-青羊区:东坡街道,光华街道',\n          'deliveryPrice': '0-10元运装费为0.2元;10.01-1000元运装费为0元;'\n        }, {\n          'deliveryArea': '四川省-成都市-青羊区:东坡街道,光华街道',\n          'deliveryPrice': '0-10元运装费为0.2元;10.01-1000元运装费为0元;'\n        }, {\n          'deliveryArea': '四川省-成都市-青羊区:东坡街道,光华街道',\n          'deliveryPrice': '0-10元运装费为0.2元;10.01-1000元运装费为0元;'\n        }, {\n          'deliveryArea': '四川省-成都市-青羊区:东坡街道,光华街道',\n          'deliveryPrice': '0-10元运装费为0.2元;10.01-1000元运装费为0元;'\n        }\n      ],\n      'sendDetail': '测试内容bf49'\n    },\n    'msg': '测试内容p1qv',\n    'state': 35587\n  })\n  res.json(data)\n})\n\n// 获取参团列表\nrouter.get('/getGroupList', (req, res, next) => {\n\n  console.log('4444444:', req.session)\n  let data = Mock.mock({\n    'data|1-5': [\n      {\n        'activityId': '测试内容o71t', // 活动id\n        'headName': '测试内容42hd', // 团长名\n        'joinId': '测试内容3e7q', // 组团id\n        'joinSpellNum': 83820, // 参团人数\n        'spellImg': Random.image('180x180', Random.color(), '#FFF', 'png', 'heheda'), // 图片url\n        'spellName': Random.ctitle(3, 30)// 团名称\n      }\n    ],\n    'msg': '成功',\n    'state': 73773\n  })\n  res.json(data)\n})\n\nrouter.post('/gettest', (req, res, next) => {\n  console.log('222222:', req.session)\n  let token = req.query.token\n  let nowTime = req.query.nowTime\n  let endTime = req.query.endTime\n  let data = Mock.mock({\n    'data': [{\n      'title': Random.ctitle(3, 30)\n    }, {\n      'title': Random.ctitle(3, 30)\n    }, {\n      'title': Random.ctitle(3, 30)\n    }, {\n      'title': Random.ctitle(3, 30)\n    }]\n  })\n  res.json(data)\n})\n\nrouter.post('/posttest', (req, res, next) => {\n  req.session.name = req.body.name\n  req.session.password = req.body.password\n  console.log('333333:', req.session)\n  // req.headers['content-type'] = \"application/x-www-form-urlencoded\"\n  res.send('1')\n})\n\n\n// 我的拼团\nrouter.post('/myGroups', (req, res, next) => {\n  let data={state :req.body.state,shopId:req.body.shopId,storeId:req.body.storeId,buyerId:req.body.buyerId,pageIndex:req.body.pageIndex,pageSize:req.body.pageSize}\n  let token = takeManager.getToken()\n  let timestamp = (new Date()).getTime()\n  request(\n    {\n      url:'http://emcs.quanyou.com.cn/spellapi/spell/getMyCreate?token='+token+'&timestamp='+timestamp,\n      method: \"POST\",\n      json:data\n    },\n    function (error, response, body) {\n      if (error) {\n        return console.error(error);\n      }else {\n        res.send(body)\n      }\n    })\n\n})\n\n// 我的参团\nrouter.post('/myOffered', (req, res, next) => {\n  let state = req.body.state\n  let shopId = req.body.shopId\n  let storeId = req.body.storeId\n  let buyerId = req.body.buyerId\n  let pageIndex = req.body.pageIndex\n  let pageSize = req.body.pageSize\n  let token = takeManager.getToken()\n  let timestamp = (new Date()).getTime()\n  request(\n    {\n      url:'http://emcs.quanyou.com.cn/spellapi/spell/getMyJoin?token='+token+'&timestamp='+timestamp,\n      method: \"POST\",\n      json:{state:state, shopId:shopId, storeId:storeId, buyerId:buyerId, pageIndex:pageIndex, pageSize:pageSize}\n    },\n    function (error, response, body) {\n      if (error) {\n        return console.error(error);\n      }else {\n        res.send(body)\n      }\n    })\n\n})\n\n\n//活动首页head请求转发\nrouter.post('/activityDetails', (req, res, next) => {\n  // 接收到数据后 请求活动首页接口\n  let shopId = req.body.shopId\n  let storeId = req.body.storeId\n  // request post请求带参写法\n  request.post('http://172.30.3.40:9086/mockjsdata/5/spell/getSpellCategory',{json:{shopId: shopId,storeId: storeId}}, function (error, response, body) {\n    if (error) {\n      res.send('0')\n    } else {\n      res.send(body)\n    }\n  })\n})\n\n//用于测试request  post转发过来的参数是否为空的接口  地址为http://127.0.0.1:3222/spell/testgg\nrouter.post('/testgg', (req, res, next) => {\n  res.send('222')\n})\n\nrouter.get('/postTest', (req, res, next) => {\n  let shopId = req.query.shopId\n  let storeId = req.query.storeId\n  request.post('http://172.30.3.40:9090/spellapi/getSpellCategory',{json:{shopId: shopId,storeId: storeId}}, function (err, response, body) {\n    res.send(body)\n  })\n})\n\n//是否关注\nrouter.post('/isAttention', (req, res, next) => {\n  // console.log('我正在查询是否关注')\n  let Inquire = req.body\n  // console.log(Inquire)\n  // request.post('http://emcs.quanyou.com.cn/emall/wxBuyer/isAttention',{json:{data: Inquire}}, function (err, response, body) {\n  //   if (err) {\n  //     res.send(err)\n  //   } else {\n  //     res.send(body)\n  //   }\n  // })\n  res.send(Inquire)\n})\n\n//是否有顾问\nrouter.post('/consultant', (req, res, next) => {\n  // console.log('我正在查询是否有导购')\n  let Inquire = req.body\n  // console.log(Inquire)\n  request.post('http://emcs.quanyou.com.cn/emall/wxBuyer/haveGuWen',{json:{data: Inquire}}, function (err, response, body) {\n    if (err) {\n      res.send(err)\n    } else {\n      res.send(body)\n    }\n  })\n})\n\nexport default router\n\n\n\n// WEBPACK FOOTER //\n// ./server/spell/users.js","module.exports = require(\"axios\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"axios\"\n// module id = 10\n// module chunks = 0","module.exports = require(\"lru-cache\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lru-cache\"\n// module id = 11\n// module chunks = 0","module.exports = require(\"mockjs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mockjs\"\n// module id = 12\n// module chunks = 0","module.exports = require(\"node-schedule\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"node-schedule\"\n// module id = 13\n// module chunks = 0","module.exports = require(\"regenerator-runtime\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"regenerator-runtime\"\n// module id = 14\n// module chunks = 0","module.exports = require(\"request\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"request\"\n// module id = 15\n// module chunks = 0","import Nuxt from 'nuxt'\nimport express from 'express'\nimport bodyParser from 'body-parser'\nimport cookieParser from 'cookie-parser'\nimport session from 'express-session'\n\nimport api from './spell'\n\nconst app = express()\nconst host = process.env.HOST\nconst port = process.env.PORT || 3222\n\n// 使用body 不然 req.body为undifined\napp.use(bodyParser.json())\n\napp.use(cookieParser())\n\napp.use(session({\n  secret: '88888',\n  cookie: {maxAge: 1*60*60*1000},\n  resave: true,\n  saveUninitialized: false\n}))\n\napp.use(function (req, res, next) {\n  let url = req.url\n  let baseUrl = 'https://emcs.quanyou.com.cn'\n  // let baseUrl = 'http://127.0.0.1:3222'\n  // console.log(url,url.indexOf('/spell/test/toAuth'))\n  if (url.indexOf('/spell/getHasBeenGroup') >= 0 || url.indexOf('/spell/myOffered') >= 0 || url.indexOf('/spell/myGroups') >= 0 || url.indexOf('/spell/gethead') >= 0 || url.indexOf('/spell/gettitle') >= 0 || url.indexOf('/spell/getclass') >= 0 || url.indexOf('/spell/test/toAuth') >= 0 || url.indexOf('/spell/_nuxt/') >= 0 || url.indexOf('__webpack_hmr') >= 0 || url.indexOf('/spell/toAuth') >= 0 || url.length == 1) {\n    next ()\n  } else {\n    // sessionInfo  用户信息\n    let sessionInfo = req.session.sessionInfo\n    if (sessionInfo !== \"\" && sessionInfo !== undefined && sessionInfo !== 'undefined') {\n      next()\n    } else {\n      // let storeId = url.split('storeId=')[1].split('&')[0]\n      // console.log('服务器里面的storeId:', 'https://emcs.quanyou.com.cn/spell/test/toAuth?&url=' + baseUrl + url)\n      return res.redirect( baseUrl +'/spell/test/toAuth?url=' + baseUrl + url)\n    }\n  }\n})\n\napp.set('port', port)\n\n// Import API Routes\napp.use('/spell', api)\n// app.use('${config.router.base}spell', spell)\n// Start nuxt.js\nasync function start () {\n  // Import and Set Nuxt.js options\n  let config = require('../nuxt.config.js')\n  config.dev = !(process.env.NODE_ENV === 'production')\n  // Instanciate nuxt.js\n  const nuxt = await new Nuxt(config)\n  // Add nuxt.js middleware\n  app.use(nuxt.render)\n  // Build in development\n  if (config.dev) {\n    try {\n      await nuxt.build()\n    } catch (error) {\n      console.error(error) // eslint-disable-line no-console\n      process.exit(1)\n    }\n  }\n  // Listen the server\n  app.listen(3222, host)\n  console.log('Server listening on 192.168.79.12:3222') // eslint-disable-line no-console\n}\n\nimport takeManager from './tokenManager'\ntakeManager.init()\n\nstart()\n\n\n\n// WEBPACK FOOTER //\n// ./server/index.js"],"sourceRoot":""}